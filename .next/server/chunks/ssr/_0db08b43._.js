module.exports=[3130,a=>{"use strict";var b=a.i(46447),c=a.i(97895);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardHeader",()=>e,"CardTitle",()=>f])},6253,a=>{"use strict";var b=a.i(30564);function c(a){let[c,d]=(0,b.useState)([]),[e,f]=(0,b.useState)([]),[g,h]=(0,b.useState)(null),[i,j]=(0,b.useState)(null),[k,l]=(0,b.useState)([]),[m,n]=(0,b.useState)(null),[o,p]=(0,b.useState)(!1),[q,r]=(0,b.useState)(!0),s=process.env.NEXT_PUBLIC_BACKEND_PORT||"5001",t=a?.url||`ws://localhost:${s}`;return(0,b.useEffect)(()=>{let a,b,c=()=>{try{(a=new WebSocket(t)).onopen=()=>{console.log("âœ… Connected to server"),p(!0),r(!1)},a.onmessage=a=>{let b=JSON.parse(a.data);switch(b.type){case"initial-data":d(b.data.alerts),f(b.data.logs),h(b.data.trafficData),b.data.networkData&&j(b.data.networkData),b.data.networkData&&l(a=>[...a.slice(-29),b.data.networkData]),b.data.health&&n(b.data.health);break;case"new-alert":d(a=>[b.data,...a].slice(0,20));break;case"alert-updated":d(a=>a.map(a=>a.id===b.data.id?b.data:a));break;case"new-log":f(a=>[b.data,...a].slice(0,50));break;case"traffic-update":h(b.data);break;case"network-update":j(b.data),l(a=>[...a.slice(-29),b.data]);break;case"health-update":n(b.data)}},a.onerror=a=>{console.error("âŒ WebSocket error:",a),p(!1)},a.onclose=()=>{console.log("ðŸ”Œ Disconnected from server"),p(!1),b=setTimeout(c,3e3)}}catch(a){console.error("Failed to connect:",a),p(!1),b=setTimeout(c,3e3)}};return c(),()=>{a&&a.close(),b&&clearTimeout(b)}},[t]),(0,b.useEffect)(()=>{let a=process.env.NEXT_PUBLIC_BACKEND_PORT||"5001",b="localhost";fetch(`http://${b}:${a}/api/network`).then(a=>a.json()).then(a=>{a&&j(a)}).catch(()=>{}),fetch(`http://${b}:${a}/api/health`).then(a=>a.json()).then(a=>{a&&n(a)}).catch(()=>{})},[]),{alerts:c,logs:e,traffic:g,network:i,networkHistory:k,health:m,connected:o,loading:q,updateAlertStatus:(0,b.useCallback)(async(a,b)=>{try{let c=process.env.NEXT_PUBLIC_BACKEND_PORT||"5001";return(await fetch(`http://localhost:${c}/api/alerts/${a}/status`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:b})})).json()}catch(a){throw console.error("Failed to update alert:",a),a}},[])}}a.s(["useRealTime",()=>c])},60350,a=>{"use strict";var b=a.i(46447),c=a.i(3130),d=a.i(35576),e=a.i(53581),f=a.i(90542);let g=(0,a.i(61237).default)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);var h=a.i(6253);function i(){let{alerts:a,logs:i,traffic:j,network:k,connected:l,loading:m,health:n}=(0,h.useRealTime)(),o=j?.activeSessions||Math.round((k?.total?.rxBytesPerSec||0)/1e3),p=i?.filter(a=>/blocked|blocked connection|blocked/i.test(a.message)).length||0,q=a?.length||0,r=a?.filter(a=>"Critical"===a.severity).length||0,s=k?function(a){if(!a||isNaN(a))return"0 B/s";let b=8*a/1048576;return b>=1?`${b.toFixed(2)} Mbps`:`${(8*a/1024).toFixed(2)} Kbps`}((k.total.rxBytesPerSec+k.total.txBytesPerSec)/2):j?.totalBandwidth||"0 GB/s",t=a?.slice(0,4)||[],u=n?.services?Object.keys(n.services).map(a=>({service:a,status:n.services[a]})):[{service:"Firewall",status:{status:"Operational",uptime:"99.9%"}},{service:"IDS Engine",status:{status:"Operational",uptime:"99.8%"}},{service:"Traffic Monitor",status:{status:"Operational",uptime:"100%"}},{service:"Alert System",status:{status:"Operational",uptime:"99.7%"}}];return(0,b.jsxs)("div",{className:"flex flex-col gap-6 p-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Network Dashboard"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Real-time overview of your network security status"})]}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,b.jsxs)(c.Card,{className:"bg-gradient-to-r from-sky-50 to-sky-100",children:[(0,b.jsxs)(c.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(c.CardTitle,{className:"text-sm font-medium",children:"Active Connections"}),(0,b.jsx)(d.Activity,{className:"size-4 text-sky-600"})]}),(0,b.jsxs)(c.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-sky-700",children:o}),(0,b.jsx)("p",{className:"text-xs text-sky-500",children:"Live connected sessions"})]})]}),(0,b.jsxs)(c.Card,{className:"bg-gradient-to-r from-rose-50 to-rose-100",children:[(0,b.jsxs)(c.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(c.CardTitle,{className:"text-sm font-medium",children:"Threats Blocked"}),(0,b.jsx)(f.Shield,{className:"size-4 text-rose-600"})]}),(0,b.jsxs)(c.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-rose-700",children:p}),(0,b.jsx)("p",{className:"text-xs text-rose-500",children:"Blocked events (approx)"})]})]}),(0,b.jsxs)(c.Card,{className:"bg-gradient-to-r from-yellow-50 to-yellow-100",children:[(0,b.jsxs)(c.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(c.CardTitle,{className:"text-sm font-medium",children:"Active Alerts"}),(0,b.jsx)(e.AlertTriangle,{className:"size-4 text-yellow-600"})]}),(0,b.jsxs)(c.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-yellow-700",children:q}),(0,b.jsxs)("p",{className:"text-xs text-yellow-500",children:[r," critical"]})]})]}),(0,b.jsxs)(c.Card,{className:"bg-gradient-to-r from-emerald-50 to-emerald-100",children:[(0,b.jsxs)(c.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(c.CardTitle,{className:"text-sm font-medium",children:"Network Throughput"}),(0,b.jsx)(g,{className:"size-4 text-emerald-600"})]}),(0,b.jsxs)(c.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-emerald-700",children:s}),(0,b.jsx)("p",{className:"text-xs text-emerald-500",children:"Aggregate RX/TX"})]})]})]}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,b.jsxs)(c.Card,{className:"bg-white/80",children:[(0,b.jsxs)(c.CardHeader,{children:[(0,b.jsx)(c.CardTitle,{children:"Recent Threats"}),(0,b.jsx)(c.CardDescription,{children:"Latest security alerts detected"})]}),(0,b.jsx)(c.CardContent,{children:(0,b.jsx)("div",{className:"space-y-4",children:t.length>0?t.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center justify-between border-b pb-3 last:border-0 last:pb-0",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-sm font-medium",children:a.type}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Source: ",a.source]})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("span",{className:`inline-flex items-center rounded-full px-2 py-1 text-xs font-medium ${"Critical"===a.severity?"bg-destructive/10 text-destructive":"bg-accent/10 text-accent"}`,children:a.severity}),(0,b.jsx)("p",{className:"mt-1 text-xs text-muted-foreground",children:new Date(a.timestamp).toLocaleTimeString()})]})]},a.id||c)):(0,b.jsx)("div",{className:"text-muted-foreground",children:"No recent threats"})})})]}),(0,b.jsxs)(c.Card,{className:"bg-white/80",children:[(0,b.jsxs)(c.CardHeader,{children:[(0,b.jsx)(c.CardTitle,{children:"System Status"}),(0,b.jsx)(c.CardDescription,{children:"Current operational status"})]}),(0,b.jsx)(c.CardContent,{children:(0,b.jsx)("div",{className:"space-y-4",children:u.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between border-b pb-3 last:border-0 last:pb-0",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-sm font-medium",children:a.service}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Uptime: ",a.status.uptime]})]}),(0,b.jsx)("span",{className:`inline-flex items-center rounded-full px-2 py-1 text-xs font-medium ${"Operational"===a.status.status?"bg-emerald-100 text-emerald-700":"bg-amber-100 text-amber-700"}`,children:a.status.status})]},a.service))})})]})]})]})}a.s(["default",()=>i],60350)}];

//# sourceMappingURL=_0db08b43._.js.map