module.exports=[3130,a=>{"use strict";var b=a.i(91293),c=a.i(97895);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardHeader",()=>e,"CardTitle",()=>f])},6253,a=>{"use strict";var b=a.i(47289);function c(a){let[c,d]=(0,b.useState)([]),[e,f]=(0,b.useState)([]),[g,h]=(0,b.useState)(null),[i,j]=(0,b.useState)(null),[k,l]=(0,b.useState)([]),[m,n]=(0,b.useState)(null),[o,p]=(0,b.useState)(!1),[q,r]=(0,b.useState)(!0),s=process.env.NEXT_PUBLIC_BACKEND_PORT||"5001",t=process.env.NEXT_PUBLIC_WS_URL||`ws://localhost:${s}`,u=a?.url||t;return(0,b.useEffect)(()=>{let a,b,c=()=>{try{(a=new WebSocket(u)).onopen=()=>{console.log("âœ… Connected to server"),p(!0),r(!1)},a.onmessage=a=>{let b=JSON.parse(a.data);switch(b.type){case"initial-data":d(b.data.alerts),f(b.data.logs),h(b.data.trafficData),b.data.networkData&&j(b.data.networkData),b.data.networkData&&l(a=>[...a.slice(-29),b.data.networkData]),b.data.health&&n(b.data.health);break;case"new-alert":d(a=>[b.data,...a].slice(0,20));break;case"alert-updated":d(a=>a.map(a=>a.id===b.data.id?b.data:a));break;case"new-log":f(a=>[b.data,...a].slice(0,50));break;case"traffic-update":h(b.data);break;case"network-update":j(b.data),l(a=>[...a.slice(-29),b.data]);break;case"health-update":n(b.data)}},a.onerror=a=>{console.error("âŒ WebSocket error:",a),p(!1)},a.onclose=()=>{console.log("ðŸ”Œ Disconnected from server"),p(!1),b=setTimeout(c,3e3)}}catch(a){console.error("Failed to connect:",a),p(!1),b=setTimeout(c,3e3)}};return c(),()=>{a&&a.close(),b&&clearTimeout(b)}},[u]),(0,b.useEffect)(()=>{let a=process.env.NEXT_PUBLIC_BACKEND_PORT||"5001",b=process.env.NEXT_PUBLIC_API_URL||`http://localhost:${a}`;fetch(`${b}/api/network`).then(a=>a.json()).then(a=>{a&&j(a)}).catch(()=>{}),fetch(`${b}/api/health`).then(a=>a.json()).then(a=>{a&&n(a)}).catch(()=>{})},[]),{alerts:c,logs:e,traffic:g,network:i,networkHistory:k,health:m,connected:o,loading:q,updateAlertStatus:(0,b.useCallback)(async(a,b)=>{try{let c=process.env.NEXT_PUBLIC_BACKEND_PORT||"5001",d=process.env.NEXT_PUBLIC_API_URL||`http://localhost:${c}`;return(await fetch(`${d}/api/alerts/${a}/status`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:b})})).json()}catch(a){throw console.error("Failed to update alert:",a),a}},[])}}a.s(["useRealTime",()=>c])},88237,a=>{"use strict";var b=a.i(91293),c=a.i(97895);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,b.jsx)("table",{"data-slot":"table",className:(0,c.cn)("w-full caption-bottom text-sm",a),...d})})}function e({className:a,...d}){return(0,b.jsx)("thead",{"data-slot":"table-header",className:(0,c.cn)("[&_tr]:border-b",a),...d})}function f({className:a,...d}){return(0,b.jsx)("tbody",{"data-slot":"table-body",className:(0,c.cn)("[&_tr:last-child]:border-0",a),...d})}function g({className:a,...d}){return(0,b.jsx)("tr",{"data-slot":"table-row",className:(0,c.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",a),...d})}function h({className:a,...d}){return(0,b.jsx)("th",{"data-slot":"table-head",className:(0,c.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...d})}function i({className:a,...d}){return(0,b.jsx)("td",{"data-slot":"table-cell",className:(0,c.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...d})}a.s(["Table",()=>d,"TableBody",()=>f,"TableCell",()=>i,"TableHead",()=>h,"TableHeader",()=>e,"TableRow",()=>g])},40550,a=>{"use strict";let b=(0,a.i(61237).default)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);a.s(["default",()=>b])},73278,a=>{"use strict";var b=a.i(91293);let c=(0,a.i(61237).default)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var d=a.i(27491),e=a.i(40550),e=e,f=a.i(97895),g=a.i(40695);function h({className:a,...c}){return(0,b.jsx)("nav",{role:"navigation","aria-label":"pagination","data-slot":"pagination",className:(0,f.cn)("mx-auto flex w-full justify-center",a),...c})}function i({className:a,...c}){return(0,b.jsx)("ul",{"data-slot":"pagination-content",className:(0,f.cn)("flex flex-row items-center gap-1",a),...c})}function j({...a}){return(0,b.jsx)("li",{"data-slot":"pagination-item",...a})}function k({className:a,isActive:c,size:d="icon",...e}){return(0,b.jsx)("a",{"aria-current":c?"page":void 0,"data-slot":"pagination-link","data-active":c,className:(0,f.cn)((0,g.buttonVariants)({variant:c?"outline":"ghost",size:d}),a),...e})}function l({className:a,...d}){return(0,b.jsxs)(k,{"aria-label":"Go to previous page",size:"default",className:(0,f.cn)("gap-1 px-2.5 sm:pl-2.5",a),...d,children:[(0,b.jsx)(c,{}),(0,b.jsx)("span",{className:"hidden sm:block",children:"Previous"})]})}function m({className:a,...c}){return(0,b.jsxs)(k,{"aria-label":"Go to next page",size:"default",className:(0,f.cn)("gap-1 px-2.5 sm:pr-2.5",a),...c,children:[(0,b.jsx)("span",{className:"hidden sm:block",children:"Next"}),(0,b.jsx)(d.ChevronRightIcon,{})]})}function n({className:a,...c}){return(0,b.jsxs)("span",{"aria-hidden":!0,"data-slot":"pagination-ellipsis",className:(0,f.cn)("flex size-9 items-center justify-center",a),...c,children:[(0,b.jsx)(e.default,{className:"size-4"}),(0,b.jsx)("span",{className:"sr-only",children:"More pages"})]})}a.s(["Pagination",()=>h,"PaginationContent",()=>i,"PaginationEllipsis",()=>n,"PaginationItem",()=>j,"PaginationLink",()=>k,"PaginationNext",()=>m,"PaginationPrevious",()=>l],73278)},29254,a=>{"use strict";var b=a.i(91293),c=a.i(47289),d=a.i(61237);let e=(0,d.default)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),f=(0,d.default)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);var g=a.i(7085),h=a.i(40695),i=a.i(3130),j=a.i(5522),k=a.i(87682),l=a.i(88237),m=a.i(73278),n=a.i(6253);function o(){let{logs:a,connected:d,loading:o}=(0,n.useRealTime)(),[p,q]=c.useState("all"),r="all"===p?a:a.filter(a=>a.level===p);return(0,b.jsxs)("div",{className:"flex flex-col gap-6 p-6",children:[(0,b.jsx)("div",{className:"flex flex-col gap-2",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"System Logs"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Real-time event logging for system auditing and troubleshooting"})]}),(0,b.jsx)("div",{className:`text-sm font-medium ${d?"text-green-600":"text-red-600"}`,children:d?"ðŸŸ¢ Live":"ðŸ”´ Connecting..."})]})}),(0,b.jsxs)(i.Card,{className:"bg-gradient-to-r from-slate-50 to-sky-50",children:[(0,b.jsx)(i.CardHeader,{children:(0,b.jsxs)("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(i.CardTitle,{children:"Event Log"}),(0,b.jsx)(i.CardDescription,{children:"Real-time system events and activities"})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(g.Search,{className:"absolute left-2.5 top-2.5 size-4 text-muted-foreground"}),(0,b.jsx)(j.Input,{type:"search",placeholder:"Search logs...",className:"w-full pl-8 sm:w-[250px]"})]}),(0,b.jsxs)(k.Select,{value:p,onValueChange:q,children:[(0,b.jsx)(k.SelectTrigger,{className:"w-full sm:w-[130px]",children:(0,b.jsx)(k.SelectValue,{placeholder:"Level"})}),(0,b.jsxs)(k.SelectContent,{children:[(0,b.jsx)(k.SelectItem,{value:"all",children:"All Levels"}),(0,b.jsx)(k.SelectItem,{value:"INFO",children:"INFO"}),(0,b.jsx)(k.SelectItem,{value:"WARN",children:"WARN"}),(0,b.jsx)(k.SelectItem,{value:"ERROR",children:"ERROR"}),(0,b.jsx)(k.SelectItem,{value:"DEBUG",children:"DEBUG"})]})]}),(0,b.jsxs)(h.Button,{variant:"outline",className:"w-full sm:w-auto bg-transparent",children:[(0,b.jsx)(e,{className:"mr-2 size-4"}),"Date Range"]}),(0,b.jsx)(h.Button,{variant:"outline",size:"icon",className:"shrink-0 bg-transparent",children:(0,b.jsx)(f,{className:"size-4"})})]})]})}),(0,b.jsx)(i.CardContent,{children:o?(0,b.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,b.jsx)("div",{className:"text-muted-foreground",children:"Loading real-time data..."})}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(l.Table,{children:[(0,b.jsx)(l.TableHeader,{children:(0,b.jsxs)(l.TableRow,{children:[(0,b.jsx)(l.TableHead,{className:"w-[180px]",children:"Timestamp"}),(0,b.jsx)(l.TableHead,{className:"w-[100px]",children:"Level"}),(0,b.jsx)(l.TableHead,{className:"w-[150px]",children:"Component"}),(0,b.jsx)(l.TableHead,{children:"Message"}),(0,b.jsx)(l.TableHead,{className:"w-[100px]",children:"ID"})]})}),(0,b.jsx)(l.TableBody,{children:r.length>0?r.map(a=>(0,b.jsxs)(l.TableRow,{children:[(0,b.jsx)(l.TableCell,{className:"font-mono text-xs text-muted-foreground",children:new Date(a.timestamp).toLocaleString()}),(0,b.jsx)(l.TableCell,{children:(0,b.jsx)("span",{className:`inline-flex items-center rounded-md px-2 py-1 text-xs font-medium ring-1 ring-inset ${"ERROR"===a.level?"bg-destructive/10 text-destructive ring-destructive/20":"WARN"===a.level?"bg-orange-500/10 text-orange-500 ring-orange-500/20":"INFO"===a.level?"bg-blue-500/10 text-blue-500 ring-blue-500/20":"bg-muted text-muted-foreground ring-muted-foreground/20"}`,children:a.level})}),(0,b.jsx)(l.TableCell,{className:"font-medium",children:a.component}),(0,b.jsx)(l.TableCell,{className:"max-w-[500px] truncate",title:a.message,children:a.message}),(0,b.jsx)(l.TableCell,{className:"font-mono text-xs text-muted-foreground",children:a.id})]},a.id)):(0,b.jsx)(l.TableRow,{children:(0,b.jsx)(l.TableCell,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"No logs found"})})})]}),(0,b.jsx)("div",{className:"mt-4",children:(0,b.jsx)(m.Pagination,{children:(0,b.jsxs)(m.PaginationContent,{children:[(0,b.jsx)(m.PaginationItem,{children:(0,b.jsx)(m.PaginationPrevious,{href:"#"})}),(0,b.jsx)(m.PaginationItem,{children:(0,b.jsx)(m.PaginationLink,{href:"#",isActive:!0,children:"1"})}),(0,b.jsx)(m.PaginationItem,{children:(0,b.jsx)(m.PaginationLink,{href:"#",children:"2"})}),(0,b.jsx)(m.PaginationItem,{children:(0,b.jsx)(m.PaginationLink,{href:"#",children:"3"})}),(0,b.jsx)(m.PaginationItem,{children:(0,b.jsx)(m.PaginationEllipsis,{})}),(0,b.jsx)(m.PaginationItem,{children:(0,b.jsx)(m.PaginationNext,{href:"#"})})]})})})]})})]})]})}a.s(["default",()=>o],29254)}];

//# sourceMappingURL=_949939ad._.js.map