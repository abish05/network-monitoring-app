(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,50607,e=>{"use strict";var t=e.i(27055),a=e.i(64067);function l(e){let[l,s]=(0,a.useState)([]),[n,i]=(0,a.useState)([]),[r,c]=(0,a.useState)(null),[o,d]=(0,a.useState)(null),[x,u]=(0,a.useState)([]),[h,m]=(0,a.useState)(null),[g,p]=(0,a.useState)(!1),[f,j]=(0,a.useState)(!0);t.default.env.NEXT_PUBLIC_BACKEND_PORT;let b="";{let e="https:"===window.location.protocol?"wss:":"ws:";b=t.default.env.NEXT_PUBLIC_WS_URL||`${e}//${window.location.host}`}let v=e?.url||b;return(0,a.useEffect)(()=>{let e,t,a=()=>{try{(e=new WebSocket(v)).onopen=()=>{console.log("âœ… Connected to server"),p(!0),j(!1)},e.onmessage=e=>{let t=JSON.parse(e.data);switch(t.type){case"initial-data":s(t.data.alerts),i(t.data.logs),c(t.data.trafficData),t.data.networkData&&d(t.data.networkData),t.data.networkData&&u(e=>[...e.slice(-29),t.data.networkData]),t.data.health&&m(t.data.health);break;case"new-alert":s(e=>[t.data,...e].slice(0,20));break;case"alert-updated":s(e=>e.map(e=>e.id===t.data.id?t.data:e));break;case"new-log":i(e=>[t.data,...e].slice(0,50));break;case"traffic-update":c(t.data);break;case"network-update":d(t.data),u(e=>[...e.slice(-29),t.data]);break;case"health-update":m(t.data)}},e.onerror=e=>{console.error("âŒ WebSocket error:",e),p(!1)},e.onclose=()=>{console.log("ðŸ”Œ Disconnected from server"),p(!1),t=setTimeout(a,3e3)}}catch(e){console.error("Failed to connect:",e),p(!1),t=setTimeout(a,3e3)}};return a(),()=>{e&&e.close(),t&&clearTimeout(t)}},[v]),(0,a.useEffect)(()=>{let e=window.location.origin;fetch(`${e}/api/network`).then(e=>e.json()).then(e=>{e&&d(e)}).catch(()=>{}),fetch(`${e}/api/health`).then(e=>e.json()).then(e=>{e&&m(e)}).catch(()=>{})},[]),{alerts:l,logs:n,traffic:r,network:o,networkHistory:x,health:h,connected:g,loading:f,updateAlertStatus:(0,a.useCallback)(async(e,t)=>{try{let a=window.location.origin;return(await fetch(`${a}/api/alerts/${e}/status`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:t})})).json()}catch(e){throw console.error("Failed to update alert:",e),e}},[])}}e.s(["useRealTime",()=>l])},47627,e=>{"use strict";var t=e.i(28785),a=e.i(47163);function l({className:e,...l}){return(0,t.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,t.jsx)("table",{"data-slot":"table",className:(0,a.cn)("w-full caption-bottom text-sm",e),...l})})}function s({className:e,...l}){return(0,t.jsx)("thead",{"data-slot":"table-header",className:(0,a.cn)("[&_tr]:border-b",e),...l})}function n({className:e,...l}){return(0,t.jsx)("tbody",{"data-slot":"table-body",className:(0,a.cn)("[&_tr:last-child]:border-0",e),...l})}function i({className:e,...l}){return(0,t.jsx)("tr",{"data-slot":"table-row",className:(0,a.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...l})}function r({className:e,...l}){return(0,t.jsx)("th",{"data-slot":"table-head",className:(0,a.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...l})}function c({className:e,...l}){return(0,t.jsx)("td",{"data-slot":"table-cell",className:(0,a.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...l})}e.s(["Table",()=>l,"TableBody",()=>n,"TableCell",()=>c,"TableHead",()=>r,"TableHeader",()=>s,"TableRow",()=>i])},71348,e=>{"use strict";let t=(0,e.i(10965).default)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);e.s(["default",()=>t])},46371,e=>{"use strict";var t=e.i(28785);let a=(0,e.i(10965).default)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var l=e.i(65892),s=e.i(71348),s=s,n=e.i(47163),i=e.i(67881);function r({className:e,...a}){return(0,t.jsx)("nav",{role:"navigation","aria-label":"pagination","data-slot":"pagination",className:(0,n.cn)("mx-auto flex w-full justify-center",e),...a})}function c({className:e,...a}){return(0,t.jsx)("ul",{"data-slot":"pagination-content",className:(0,n.cn)("flex flex-row items-center gap-1",e),...a})}function o({...e}){return(0,t.jsx)("li",{"data-slot":"pagination-item",...e})}function d({className:e,isActive:a,size:l="icon",...s}){return(0,t.jsx)("a",{"aria-current":a?"page":void 0,"data-slot":"pagination-link","data-active":a,className:(0,n.cn)((0,i.buttonVariants)({variant:a?"outline":"ghost",size:l}),e),...s})}function x({className:e,...l}){return(0,t.jsxs)(d,{"aria-label":"Go to previous page",size:"default",className:(0,n.cn)("gap-1 px-2.5 sm:pl-2.5",e),...l,children:[(0,t.jsx)(a,{}),(0,t.jsx)("span",{className:"hidden sm:block",children:"Previous"})]})}function u({className:e,...a}){return(0,t.jsxs)(d,{"aria-label":"Go to next page",size:"default",className:(0,n.cn)("gap-1 px-2.5 sm:pr-2.5",e),...a,children:[(0,t.jsx)("span",{className:"hidden sm:block",children:"Next"}),(0,t.jsx)(l.ChevronRightIcon,{})]})}function h({className:e,...a}){return(0,t.jsxs)("span",{"aria-hidden":!0,"data-slot":"pagination-ellipsis",className:(0,n.cn)("flex size-9 items-center justify-center",e),...a,children:[(0,t.jsx)(s.default,{className:"size-4"}),(0,t.jsx)("span",{className:"sr-only",children:"More pages"})]})}e.s(["Pagination",()=>r,"PaginationContent",()=>c,"PaginationEllipsis",()=>h,"PaginationItem",()=>o,"PaginationLink",()=>d,"PaginationNext",()=>u,"PaginationPrevious",()=>x],46371)},79365,e=>{"use strict";var t=e.i(28785),a=e.i(64067),l=e.i(10965);let s=(0,l.default)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),n=(0,l.default)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);var i=e.i(5576),r=e.i(67881),c=e.i(70065),o=e.i(23750),d=e.i(62870),x=e.i(47627),u=e.i(46371),h=e.i(50607);function m(){let{logs:e,connected:l,loading:m}=(0,h.useRealTime)(),[g,p]=a.useState("all"),f="all"===g?e:e.filter(e=>e.level===g);return(0,t.jsxs)("div",{className:"flex flex-col gap-6 p-6",children:[(0,t.jsx)("div",{className:"flex flex-col gap-2",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"System Logs"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Real-time event logging for system auditing and troubleshooting"})]}),(0,t.jsx)("div",{className:`text-sm font-medium ${l?"text-green-600":"text-red-600"}`,children:l?"ðŸŸ¢ Live":"ðŸ”´ Connecting..."})]})}),(0,t.jsxs)(c.Card,{className:"bg-gradient-to-r from-slate-50 to-sky-50",children:[(0,t.jsx)(c.CardHeader,{children:(0,t.jsxs)("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(c.CardTitle,{children:"Event Log"}),(0,t.jsx)(c.CardDescription,{children:"Real-time system events and activities"})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(i.Search,{className:"absolute left-2.5 top-2.5 size-4 text-muted-foreground"}),(0,t.jsx)(o.Input,{type:"search",placeholder:"Search logs...",className:"w-full pl-8 sm:w-[250px]"})]}),(0,t.jsxs)(d.Select,{value:g,onValueChange:p,children:[(0,t.jsx)(d.SelectTrigger,{className:"w-full sm:w-[130px]",children:(0,t.jsx)(d.SelectValue,{placeholder:"Level"})}),(0,t.jsxs)(d.SelectContent,{children:[(0,t.jsx)(d.SelectItem,{value:"all",children:"All Levels"}),(0,t.jsx)(d.SelectItem,{value:"INFO",children:"INFO"}),(0,t.jsx)(d.SelectItem,{value:"WARN",children:"WARN"}),(0,t.jsx)(d.SelectItem,{value:"ERROR",children:"ERROR"}),(0,t.jsx)(d.SelectItem,{value:"DEBUG",children:"DEBUG"})]})]}),(0,t.jsxs)(r.Button,{variant:"outline",className:"w-full sm:w-auto bg-transparent",children:[(0,t.jsx)(s,{className:"mr-2 size-4"}),"Date Range"]}),(0,t.jsx)(r.Button,{variant:"outline",size:"icon",className:"shrink-0 bg-transparent",children:(0,t.jsx)(n,{className:"size-4"})})]})]})}),(0,t.jsx)(c.CardContent,{children:m?(0,t.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,t.jsx)("div",{className:"text-muted-foreground",children:"Loading real-time data..."})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(x.Table,{children:[(0,t.jsx)(x.TableHeader,{children:(0,t.jsxs)(x.TableRow,{children:[(0,t.jsx)(x.TableHead,{className:"w-[180px]",children:"Timestamp"}),(0,t.jsx)(x.TableHead,{className:"w-[100px]",children:"Level"}),(0,t.jsx)(x.TableHead,{className:"w-[150px]",children:"Component"}),(0,t.jsx)(x.TableHead,{children:"Message"}),(0,t.jsx)(x.TableHead,{className:"w-[100px]",children:"ID"})]})}),(0,t.jsx)(x.TableBody,{children:f.length>0?f.map(e=>(0,t.jsxs)(x.TableRow,{children:[(0,t.jsx)(x.TableCell,{className:"font-mono text-xs text-muted-foreground",children:new Date(e.timestamp).toLocaleString()}),(0,t.jsx)(x.TableCell,{children:(0,t.jsx)("span",{className:`inline-flex items-center rounded-md px-2 py-1 text-xs font-medium ring-1 ring-inset ${"ERROR"===e.level?"bg-destructive/10 text-destructive ring-destructive/20":"WARN"===e.level?"bg-orange-500/10 text-orange-500 ring-orange-500/20":"INFO"===e.level?"bg-blue-500/10 text-blue-500 ring-blue-500/20":"bg-muted text-muted-foreground ring-muted-foreground/20"}`,children:e.level})}),(0,t.jsx)(x.TableCell,{className:"font-medium",children:e.component}),(0,t.jsx)(x.TableCell,{className:"max-w-[500px] truncate",title:e.message,children:e.message}),(0,t.jsx)(x.TableCell,{className:"font-mono text-xs text-muted-foreground",children:e.id})]},e.id)):(0,t.jsx)(x.TableRow,{children:(0,t.jsx)(x.TableCell,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"No logs found"})})})]}),(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsx)(u.Pagination,{children:(0,t.jsxs)(u.PaginationContent,{children:[(0,t.jsx)(u.PaginationItem,{children:(0,t.jsx)(u.PaginationPrevious,{href:"#"})}),(0,t.jsx)(u.PaginationItem,{children:(0,t.jsx)(u.PaginationLink,{href:"#",isActive:!0,children:"1"})}),(0,t.jsx)(u.PaginationItem,{children:(0,t.jsx)(u.PaginationLink,{href:"#",children:"2"})}),(0,t.jsx)(u.PaginationItem,{children:(0,t.jsx)(u.PaginationLink,{href:"#",children:"3"})}),(0,t.jsx)(u.PaginationItem,{children:(0,t.jsx)(u.PaginationEllipsis,{})}),(0,t.jsx)(u.PaginationItem,{children:(0,t.jsx)(u.PaginationNext,{href:"#"})})]})})})]})})]})]})}e.s(["default",()=>m],79365)}]);